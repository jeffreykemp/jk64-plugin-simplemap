function jk64plugin_geocode(e,o){o.geocode({address:$v(e.geocodeItem),componentRestrictions:""!==e.country?{country:e.country}:{}},function(o,n){if(n==google.maps.GeocoderStatus.OK){apex.debug(e.regionId+" geocode ok");var a=o[0].geometry.location;jk64plugin_setMarker(e,a.lat(),a.lng()),""!==e.syncItem&&$s(e.syncItem,a.lat()+","+a.lng())}else apex.debug(e.regionId+" geocode was unsuccessful for the following reason: "+n)})}function jk64plugin_setMarker(e,o,n){if(null!==o&&null!==n){var a=e.marker?e.marker.getPosition():new google.maps.LatLng(0,0);if(o==a.lat()&&n==a.lng())apex.debug(e.regionId+" marker not changed");else{apex.debug(e.regionId+" move marker");var r=new google.maps.LatLng(o,n);e.map.panTo(r),e.markerZoom&&e.map.setZoom(e.markerZoom),e.marker?(e.marker.setMap(e.map),e.marker.setPosition(r)):e.marker=new google.maps.Marker({map:e.map,position:r,icon:e.icon})}}else e.marker&&(apex.debug(e.regionId+" remove marker"),e.marker.setMap(null))}function jk64plugin_initMap(e){var o={zoom:e.initZoom,center:new google.maps.LatLng(e.initLat,e.initLng),mapTypeId:google.maps.MapTypeId.ROADMAP};if(e.map=new google.maps.Map(document.getElementById(e.container),o),""!==e.syncItem){var n=$v(e.syncItem);if(null!==n&&n.indexOf(",")>-1){var a=n.split(",");jk64plugin_setMarker(e,a[0],a[1])}$("#"+e.syncItem).change(function(){var o=this.value;if(null!==o&&void 0!==o&&o.indexOf(",")>-1){var n=o.split(",");jk64plugin_setMarker(e,n[0],n[1])}})}if(google.maps.event.addListener(e.map,"click",function(o){var n=o.latLng.lat(),a=o.latLng.lng();jk64plugin_setMarker(e,n,a),""!==e.syncItem&&$s(e.syncItem,n+","+a),apex.jQuery("#"+e.regionId).trigger("mapclick",{map:e.map,lat:n,lng:a})}),""!=e.geocodeItem){var r=new google.maps.Geocoder;$("#"+e.geocodeItem).change(function(){jk64plugin_geocode(e,r)})}apex.jQuery("#"+e.regionId).trigger("maploaded",{map:e.map})}